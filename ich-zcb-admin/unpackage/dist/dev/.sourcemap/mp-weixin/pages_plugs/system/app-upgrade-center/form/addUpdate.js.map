{"version":3,"sources":["webpack:///E:/appProject/ich-zcb/ich-zcb-admin/pages_plugs/system/app-upgrade-center/form/addUpdate.vue?a17f","webpack:///E:/appProject/ich-zcb/ich-zcb-admin/pages_plugs/system/app-upgrade-center/form/addUpdate.vue?cd00","webpack:///E:/appProject/ich-zcb/ich-zcb-admin/pages_plugs/system/app-upgrade-center/form/addUpdate.vue?b367","webpack:///E:/appProject/ich-zcb/ich-zcb-admin/pages_plugs/system/app-upgrade-center/form/addUpdate.vue?7cad","uni-app:///pages_plugs/system/app-upgrade-center/form/addUpdate.vue"],"names":["appid","name","title","contents","platform","platformRadio","type","version","min_uni_version","url","stable_publish","is_silently","is_mandatory","create_env","store_list","props","value","Type","default","show","mode","item","options","data","page","submitText","cancelText","showCancel","top","width","form1","action","columns","key","disabled","autosize","minRows","maxRows","maxlength","showWordLimit","itemWidth","label","showRule","tips","limit","accept","watch","formData","column","index","$set","rowKey","showAdd","showClear","showSort","defaultValue","rightBtns","minWidth","activeValue","inactiveValue","rules","required","message","trigger","validator","formType","labelWidth","mounted","methods","init","originalForms","onOpen","onClose","onFormSuccess","resetForm","vk","computed"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AAC6D;AACL;;;AAGxD;AAC4K;AAC5K,gBAAgB,6KAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAmpB,CAAgB,mnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgCvqB;AACA;AACA;AACA;EACAA;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;AACA;AAAA,gBACA;EACAC;IACAC;MACAC;MACAC;QACA;UACAC;UACAC;UACAC;YACAX;UACA;UACAY;QACA;MACA;IACA;EACA;EACAC;IAAA;IACA;IACA;MACAC;QACAtB;QACAuB;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;QACA;QACAP;QACA;QACAR;UACA;UACAgB;UACA;UACAC,UACA;YAAAC;YAAA/B;YAAAI;YAAA4B;UAAA,GACA;YAAAD;YAAA/B;YAAAI;YAAA4B;UAAA,GACA;YAAAD;YAAA/B;YAAAI;UAAA,GACA;YACA2B;YAAA/B;YAAAI;YACA6B;cAAAC;cAAAC;YAAA;YACAC;YACAC;UACA,GACA;YACAN;YAAA/B;YAAAI;YACAkC;YACAjB,OACA;cAAAP;cAAAyB;YAAA,GACA;cAAAzB;cAAAyB;YAAA,EACA;YACAC;YACAR;UACA,GACA;YACAD;YAAA/B;YAAAI;YACAkC;YACAjB,OACA;cAAAP;cAAAyB;YAAA,GACA;cAAAzB;cAAAyB;YAAA,EACA;YACAC;YACAR;UACA,GACA;YAAAD;YAAA/B;YAAAI;YAAAqC;YAAAT;UAAA,GACA;YAAAD;YAAA/B;YAAAI;YAAAoC;UAAA,GACA;YAAAT;YAAA/B;YAAAI;YACAoC;cACA;YACA;UACA,GACA;YAAAT;YAAA/B;YAAAI;YAAAsC;YAAAC;YACAH;cACA;YACA;YACAI;cAAA;gBAAAC;gBAAAC;gBAAAC;gBAAAC;cACAA;YACA;YACAP;UACA,GACA;YAAAV;YAAA/B;YAAAI;YAAAsC;YAAAC;YACAH;cACA;YACA;YACAI;cAAA;gBAAAC;gBAAAC;gBAAAC;gBAAAC;cACAA;YACA;YACAP;UACA,GACA;YAAAV;YAAA/B;YAAAI;YACAoC;cACA;YACA;UACA,GACA;YACAT;YAAA/B;YAAAI;YACAoC;cACA;YACA;YACAS;YACAC;YACAC;YACAC;YACA;YACAC,eAEA;YACAC;YACA;YACAxB,UACA;cAAAC;cAAA/B;cAAAI;cAAAuB;YAAA,GACA;cACAI;cAAA/B;cAAAI;cAAAmD;cACAvB;YACA,GACA;cACAD;cAAA/B;cAAAI;cAAAmD;cACAvB;YACA;UAEA,GACA;YAAAD;YAAA/B;YAAAI;YAAAoD;YAAAC;YAAAjB;UAAA,GACA;YAAAT;YAAA/B;YAAAI;YAAAoD;YAAAC;UAAA,GACA;YAAA1B;YAAA/B;YAAAI;YAAAoD;YAAAC;YACAzB;cACA;YACA;UACA,EACA;UACA;UACA0B;YACA5D;YACA;YACA;cAAA6D;cAAAC;cAAAC;YAAA,EACA;YACA5D;YACA;YACA;cAAA0D;cAAAC;cAAAC;YAAA,EACA;YACA3D;YACA;YACA;cAAAyD;cAAAC;cAAAC;YAAA,EACA;YACA1D;YACA;YACA;cAAAwD;cAAAC;cAAAC;YAAA,EACA;YACAxD;YACA;YACA;cAAAsD;cAAAC;cAAAC;YAAA,GACA;cAAAC;cAAAF;cAAAC;YAAA,EACA;YACAvD;YACA;YACA;cAAAqD;cAAAC;cAAAC;YAAA,GACA;cAAAC;cAAAF;cAAAC;YAAA,EACA;YACAtD;YACA;YACA;cAAAoD;cAAAC;cAAAC;YAAA;UAEA;UACA;UACAE;UACA;UACAC;QACA;MACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;MACAC;IACA;IACA;IACAC;MACA;QAAAvD;MACA;QAAAK;MACA;MACA;QACA;QACA;QACA;QACA;UACAA;QACA;QACA;MACA;QACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAmD;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACAC;IACA;EACA;EACA7B,QAEA;EACA;EACA8B,WAEA;AACA;AAAA,4B","file":"pages_plugs/system/app-upgrade-center/form/addUpdate.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./addUpdate.vue?vue&type=template&id=03c0a2cf&scoped=true&\"\nvar renderjs\nimport script from \"./addUpdate.vue?vue&type=script&lang=js&\"\nexport * from \"./addUpdate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03c0a2cf\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages_plugs/system/app-upgrade-center/form/addUpdate.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addUpdate.vue?vue&type=template&id=03c0a2cf&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addUpdate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addUpdate.vue?vue&type=script&lang=js&\"","<template>\r\n\t<vk-data-dialog\r\n\t\tv-model=\"value.show\"\r\n\t\t:title=\"page.title\"\r\n\t\t:top=\"page.top\"\r\n\t\t:width=\"page.width\"\r\n\t\t:close-on-click-modal=\"true\"\n\t\t:destroy-on-close=\"true\"\r\n\t\tmode=\"form\"\r\n\t\t@open=\"onOpen\"\r\n\t\t@closed=\"onClose\"\r\n\t>\r\n\t\t<!-- 页面主体内容开始 -->\n\t\t<vk-data-form\r\n\t\t\tref=\"form1\"\r\n\t\t\tv-model=\"form1.data\"\r\n\t\t\t:form-type=\"value.mode\"\r\n\t\t\t:rules=\"form1.props.rules\"\r\n\t\t\t:action=\"form1.props.action\"\r\n\t\t\t:columns=\"form1.props.columns\"\r\n\t\t\t:loading.sync=\"form1.props.loading\"\r\n\t\t\t:labelWidth=\"form1.props.labelWidth\"\r\n\t\t\t:show-cancel=\"page.showCancel\"\r\n\t\t\t:cancel-text=\"page.cancelText\"\r\n\t\t\t:submit-text=\"page.submitText\"\r\n\t\t\t@success=\"onFormSuccess\"\r\n\t\t></vk-data-form>\r\n\t\t<!-- 页面主体内容结束 -->\r\n\t</vk-data-dialog>\r\n</template>\r\n\r\n<script>\nvar pageName = \"\";\r\nvar vk = uni.vk; // vk实例\nvar originalForms = {};\t\t\t\t\t\t// 表单初始化数据\nvar defaultFormData = {\n\tappid:\"\",\n\tname:\"\",\n\ttitle:\"\",\n\tcontents:\"\",\n\tplatform:[],\n\tplatformRadio:\"\",\n\ttype:\"\",\n\tversion:\"\",\n\tmin_uni_version:\"\",\n\turl:\"\",\n\tstable_publish:false,\n\tis_silently:false,\n\tis_mandatory:false,\n\tcreate_env:\"upgrade-center\",\n\tstore_list:[],\n};\nexport default {\r\n\tprops: {\r\n\t\tvalue: {\r\n\t\t\tType: Object,\r\n\t\t\tdefault: function() {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\tmode: \"\",\r\n\t\t\t\t\titem: {\n\t\t\t\t\t\tstable_publish:\"\"\n\t\t\t\t\t},\n\t\t\t\t\toptions:{}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tdata: function() {\r\n\t\t// 组件创建时,进行数据初始化\r\n\t\treturn {\r\n\t\t\tpage: {\r\n\t\t\t\ttitle: \"标题\",\r\n\t\t\t\tsubmitText: \"确定\",\r\n\t\t\t\tcancelText: \"关闭\",\r\n\t\t\t\tshowCancel: true,\r\n\t\t\t\ttop: \"2vh\",\r\n\t\t\t\twidth: \"900px\"\r\n\t\t\t},\r\n\t\t\tform1:{\n\t\t\t\t// 表单请求数据，此处可以设置默认值\n\t\t\t\tdata: defaultFormData,\n\t\t\t\t// 表单属性\n\t\t\t\tprops: {\n\t\t\t\t\t// 表单请求地址\n\t\t\t\t\taction:\"\",\n\t\t\t\t\t// 表单字段显示规则\n\t\t\t\t\tcolumns:[\n\t\t\t\t\t\t{ key: \"appid\", title: \"AppID\", type: \"text\", disabled:true },\n\t\t\t\t\t\t{ key: \"name\", title: \"应用名称\", type: \"text\", disabled:true },\n\t\t\t\t\t\t{ key: \"title\", title: \"更新标题\", type: \"text\" },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkey:\"contents\", title:\"更新内容\", type:\"textarea\",\n\t\t\t\t\t\t\tautosize:{ minRows:4, maxRows:10 },\n\t\t\t\t\t\t\tmaxlength:2000,\n\t\t\t\t\t\t\tshowWordLimit:true,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkey:\"platformRadio\", title:\"平台\", type:\"radio\",\n\t\t\t\t\t\t\titemWidth:80,\n\t\t\t\t\t\t\tdata:[\n\t\t\t\t\t\t\t\t{ value:\"Android\", label:\"安卓\" },\n\t\t\t\t\t\t\t\t{ value:\"iOS\", label:\"苹果\" }\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tshowRule:\"type==native_app\",\n\t\t\t\t\t\t\tdisabled:[\"update\"]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkey:\"platform\", title:\"平台\", type:\"checkbox\",\n\t\t\t\t\t\t\titemWidth:80,\n\t\t\t\t\t\t\tdata:[\n\t\t\t\t\t\t\t\t{ value:\"Android\", label:\"安卓\" },\n\t\t\t\t\t\t\t\t{ value:\"iOS\", label:\"苹果\" }\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tshowRule:\"type==wgt\",\n\t\t\t\t\t\t\tdisabled:[\"update\"]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ key: \"version\", title: \"版本号\", type: \"text\", tips:\"必须大于当前线上发行的版本号\", disabled:[\"update\"] },\n\t\t\t\t\t\t{ key: \"min_uni_version\", title: \"原生App最低版本\", type: \"text\", showRule:\"type==wgt\" },\n\t\t\t\t\t\t{ key: \"url\", title: \"AppStore\", type: \"text\",\n\t\t\t\t\t\t\tshowRule:(formData)=>{\n\t\t\t\t\t\t\t\treturn formData.platformRadio === \"iOS\" && formData.type === \"native_app\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ key:\"apk\", title:\"上传apk包\", type:\"file\", limit:1, accept:\".apk\",\n\t\t\t\t\t\t\tshowRule:(formData)=>{\n\t\t\t\t\t\t\t\treturn formData.platformRadio === \"Android\" && formData.type === \"native_app\";\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\twatch: ({ value, formData, column, index, $set }) => {\n\t\t\t\t\t\t\t\t$set(\"url\", value);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttips:\"上传apk包到当前服务空间的云存储中，上传成功后，会自动使用云存储地址填充下载链接\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ key:\"wgt\", title:\"上传wgt包\", type:\"file\", limit:1, accept:\".wgt\",\n\t\t\t\t\t\t\tshowRule:(formData)=>{\n\t\t\t\t\t\t\t\treturn formData.type === \"wgt\";\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\twatch: ({ value, formData, column, index, $set }) => {\n\t\t\t\t\t\t\t\t$set(\"url\", value);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttips:\"上传wgt包到当前服务空间的云存储中，上传成功后，会自动使用云存储地址填充下载链接\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ key: \"url\", title: \"下载链接\", type: \"text\",\n\t\t\t\t\t\t\tshowRule:(formData)=>{\n\t\t\t\t\t\t\t\treturn formData.platformRadio === \"Android\" || formData.type === \"wgt\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkey:\"store_list\", title:\"Android应用市场\", type:\"array<object>\",\n\t\t\t\t\t\t\tshowRule:(formData)=>{\n\t\t\t\t\t\t\t\treturn formData.platformRadio === \"Android\" && formData.type === \"native_app\" && formData.store_list && formData.store_list.length>0 ? true : false;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\trowKey:\"id\",\n\t\t\t\t\t\t\tshowAdd:false,\n\t\t\t\t\t\t\tshowClear:false,\n\t\t\t\t\t\t\tshowSort:true,\n\t\t\t\t\t\t\t// 新增一行时,该行的默认值\n\t\t\t\t\t\t\tdefaultValue:{\n\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\trightBtns:['delete'],\n\t\t\t\t\t\t\t// 每行每个字段对应的渲染规则\n\t\t\t\t\t\t\tcolumns:[\n\t\t\t\t\t\t\t\t{ key:\"enable\", title:\"是否启用\", type:\"switch\", width:80 },\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tkey:\"name\", title:\"商店名称\", type:\"text\", minWidth:180,\n\t\t\t\t\t\t\t\t\tdisabled: true\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tkey:\"scheme\", title:\"Scheme\", type:\"text\", minWidth:280,\n\t\t\t\t\t\t\t\t\tdisabled: true\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ key:\"is_silently\", title:\"静默更新\", type:\"switch\", activeValue:true, inactiveValue:false, showRule:\"type==wgt\" },\n\t\t\t\t\t\t{ key:\"is_mandatory\", title:\"强制更新\", type:\"switch\", activeValue:true, inactiveValue:false },\n\t\t\t\t\t\t{ key:\"stable_publish\", title:\"上线发行\", type:\"switch\", activeValue:true, inactiveValue:false,\n\t\t\t\t\t\t\tdisabled: (formData)=>{\n\t\t\t\t\t\t\t\treturn this.value.item.stable_publish && this.value.mode === \"update\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\t// 表单验证规则\n\t\t\t\t\trules:{\n\t\t\t\t\t\tappid: [\n\t\t\t\t\t\t\t// 必填\n\t\t\t\t\t\t\t{ required: true, message: \"appid不能为空\", trigger: ['blur','change'] }\n\t\t\t\t\t\t],\n\t\t\t\t\t\tcontents: [\n\t\t\t\t\t\t\t// 必填\n\t\t\t\t\t\t\t{ required: true, message: \"更新内容不能为空\", trigger: ['blur','change'] }\n\t\t\t\t\t\t],\n\t\t\t\t\t\tplatform: [\n\t\t\t\t\t\t\t// 必填\n\t\t\t\t\t\t\t{ required: true, message: \"平台不能为空\", trigger: ['blur','change'] }\n\t\t\t\t\t\t],\n\t\t\t\t\t\tplatformRadio: [\n\t\t\t\t\t\t\t// 必填\n\t\t\t\t\t\t\t{ required: true, message: \"平台不能为空\", trigger: ['blur','change'] }\n\t\t\t\t\t\t],\n\t\t\t\t\t\tversion: [\n\t\t\t\t\t\t\t// 必填\n\t\t\t\t\t\t\t{ required: true, message: \"版本号不能为空\", trigger: ['blur','change'] },\n\t\t\t\t\t\t\t{ validator: vk.pubfn.validator(\"version\"),  message: '版本号格式必须为：xx.xx.xx（3个数字组成，数字范围1-99,0-99,0-99） 如1.0.1 不可以是1.0.01', trigger: 'blur' }\n\t\t\t\t\t\t],\n\t\t\t\t\t\tmin_uni_version: [\n\t\t\t\t\t\t\t// 必填\n\t\t\t\t\t\t\t{ required: true, message: \"最低版本号不能为空\", trigger: ['blur','change'] },\n\t\t\t\t\t\t\t{ validator: vk.pubfn.validator(\"version\"),  message: '版本号格式必须为：xx.xx.xx（3个数字组成，数字范围1-99,0-99,0-99） 如1.0.1 不可以是1.0.01', trigger: 'blur' }\n\t\t\t\t\t\t],\n\t\t\t\t\t\turl: [\n\t\t\t\t\t\t\t// 必填\n\t\t\t\t\t\t\t{ required: true, message: \"链接不能为空\", trigger: ['blur','change'] }\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t// add 代表添加 update 代表修改\n\t\t\t\t\tformType:\"\",\n\t\t\t\t\t// 左侧label的宽度\n\t\t\t\t\tlabelWidth: \"140px\",\n\t\t\t\t}\n\t\t\t},\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.init();\r\n\t},\r\n\tmethods: {\r\n\t\t// 初始化\r\n\t\tinit() {\r\n\t\t\tlet { value } = this;\r\n\t\t\tthis.$emit(\"input\", value);\n\t\t\toriginalForms[\"form1\"] = vk.pubfn.copyObject(this.form1);\r\n\t\t},\r\n\t\t// 监听 - 页面打开\n\t\tonOpen() {\n\t\t\tlet { value={} } = this;\n\t\t\tlet { item={} } = value;\n\t\t\t// 每次打开时，重新设置表单的值 = value.item 的值，item通过 vk.pubfn.openForm('表单名',{ item:{ _id:\"1\" } }) 传递值\n\t\t\tif(value.mode === \"update\"){\n\t\t\t\tthis.form1.props.action = \"admin/system/app-upgrade-center/sys/addUpdate\";\n\t\t\t\tthis.page.title = pageName + \"修改\";\n\t\t\t\tthis.page.submitText = \"修改\";\n\t\t\t\tif (item.type === \"native_app\") {\n\t\t\t\t\titem.platformRadio = item.platform[0];\n\t\t\t\t}\n\t\t\t\tthis.form1.data = vk.pubfn.objectAssign(vk.pubfn.copyObject(defaultFormData), vk.pubfn.copyObject(item));\n\t\t\t}else{\n\t\t\t\tthis.form1.props.action = \"admin/system/app-upgrade-center/sys/addUpdate\";\n\t\t\t\tthis.page.title = pageName + \"添加\";\n\t\t\t\tthis.page.submitText = \"添加\";\n\t\t\t\tthis.form1.data = vk.pubfn.objectAssign(vk.pubfn.copyObject(defaultFormData), vk.pubfn.copyObject(item));\n\t\t\t}\n\t\t},\r\n\t\t// 监听 - 页面关闭\r\n\t\tonClose() {\r\n\t\t\tthis.resetForm();\r\n\t\t},\r\n\t\t// 监听 - 提交成功后\r\n\t\tonFormSuccess() {\r\n\t\t\tthis.value.show = false; // 关闭页面\r\n\t\t\tthis.$emit(\"success\");\r\n\t\t},\n\t\t// 表单重置\n\t\tresetForm(){\n\t\t\tvk.pubfn.resetForm(originalForms, this);\n\t\t},\r\n\t},\r\n\twatch: {\r\n\r\n\t},\r\n\t// 计算属性\r\n\tcomputed: {\r\n\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"],"sourceRoot":""}